components:
  schemas:
    Problem:
      description: |
        See[RFC7807](https://tools.ietf.org/html/rfc7807)
        Use the application/problem+json or application/problem+xml
        media types when resturning as a response.
      type: object
      properties:
        type:
          type: string
          description: |
            A URI reference [RFC3986] that indentifies the
            problem type. This specifications encourages that, when
            dereferenced, it provides human-readable documentation for the
            problem type (e.g., using HTML [W3C.REC-html5-20141028]). When
            this member is not present, its value is assumed to be
            "about:blank'.
            
            Consumers must use the "type" string as the primary identifier for
            the problem type;
            
            Consumers should not automatically dereference the type URI.
            We should accept relative URIs for the type; this means
            that they must be resolved relative to the document's base URI, as
            per [RFC3986], Section 5.
            
            See the RFC, section 4, for guidelines on when to define a new
            problem type.
          example: https://example.com/probs/out-of-credit
          default: 'about:blank'

        title:
          type: string
          description: |
            The HTTP status code ([RFC7231], Section 6)
            generated by the origin server for this occurance of the problem.
            
        detail:
          type: string
          description: |
            A human-readable explanation specific to this occurrence of the problem.
            information.

        instance:
          type: string
          description: |
            A URI reference that identifies the specific occurrance of the problem. 

        problemCode:
          type: string
          enum:
            - server_error
            - bad_request
            - person_not_found

          description: |
            This defines the service identifier for the problem.
            * server_error: Generic internal server error.
            * person_not_found: The person indicated was not found.

  responses:
    Problem:
      description: a problem occured.
      content:
        application/problem+json:
          schema:
            $ref: './common.yaml#/components/schemas/Problem'